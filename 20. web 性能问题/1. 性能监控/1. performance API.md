# Web Performance API

## Properties
1. performance.timeOrigin: performance 测量的开始时间
2. [performance.eventCounts](https://developer.mozilla.org/en-US/docs/Web/API/EventCounts):
它是一个只读的 Map 类型的对象，用于统计页面当前累计的 dispatched event 类型和对应的数量。

```js
for (entry of performance.eventCounts.entries()) {
  const type = entry[0];
  const count = entry[1];
  if (count > 0) {
    console.log(`event: [${type}], count: ${count}`);
  }
}
```

## PerformanceEntry 对象
获取 web 的 performance 数据主要是通过 PerformanceEntry 对象获取, 主要就是以下 3 个 API：
* performance.getEntries(filter?: PerformanceEntryFilterOptions)
* performance.getEntriesByName(name, type?)
* performance.getEntriesByType(type)


## entry type
浏览器支持的 entry 类型：
["element", "event", "first-input", "largest-contentful-paint", "layout-shift", "longtask", "mark", "measure", "navigation", "paint", "resource"].
```js
PerformanceObserver.supportedEntryTypes
```

最常用的类型：
* resource
* navigation
* paint

```js
performance.getEntriesByType('element');
performance.getEntriesByType('event');
performance.getEntriesByType('first-input');
performance.getEntriesByType('largest-contentful-paint');
performance.getEntriesByType('layout-shift');
performance.getEntriesByType('longtask');
performance.getEntriesByType('mark');
performance.getEntriesByType('measure');
performance.getEntriesByType('navigation');
performance.getEntriesByType('paint');
performance.getEntriesByType('resource');
```



# Useful methods in performance API




# References
* https://developer.mozilla.org/en-US/docs/Web/API/Performance
* https://w3c.github.io/perf-timing-primer/
* https://web.dev/articles/user-centric-performance-metrics
* https://www.w3.org/TR/hr-time-2/
* https://forgeandsmith.com/blog/measure-website-performance/
* https://developer.chrome.com/docs/devtools/performance
* https://developer.mozilla.org/en-US/docs/Learn/Performance/Measuring_performance
* https://developer.mozilla.org/en-US/docs/Web/Performance